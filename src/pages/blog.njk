---
title: "Vulpine Solutions Blog"
layout: layout.njk
permalink: /blog/
---

<section class="subtle-gradient">
  <div class="text-center mb-5">
  </br></br>
    <h1 class="fw-bold">Insights from Vulpine Solutions</h1>
    <p class="lead text-muted">Smart IT. Silent Security.</p>
  </div>
</section>
<section class="subtle-gradient flex-grow-1 d-flex flex-column">
  <div class="container my-5">
    <div class="row">
      <!-- Main Content Area -->
      <div class="col-lg-8">
        <div class="row row-cols-1 row-cols-md-2 g-4">
          {% for post in collections.post | reverse %}
            <div class="col">              
              <a href="{{ post.url }}" class="card h-100 shadow-sm border-0 text-decoration-none text-dark">
                {% if post.data.cover.src %}
                  <img src="{{ post.url }}{{ post.data.cover.src }}" class="card-img-top" alt="{{ post.data.cover.alt or post.data.title }}" style="object-fit: cover; height: 200px;">
                {% elif post.data.image %}
                  <img src="{{ post.data.image }}" class="card-img-top" alt="{{ post.data.title }}" style="object-fit: cover; height: 200px;">
                {% endif %}
                <div class="card-body">
                  <h5 class="card-title">{{ post.data.title }}</h5>
                  <p class="card-text text-muted small mb-2">{{ post.date | fmtDate }}</p>
                  <p class="card-text">{{ post.data.summary | safe }}</p>
                  {% if post.data.tags %}
                  <div class="mt-2">
                    {% for tag in post.data.tags %}
                      {% if tag != "post" %}
                        <span class="badge bg-secondary me-1 mb-1">#{{ tag }}</span>
                      {% endif %}
                    {% endfor %}
                  </div>
                  {% endif %}
                </div>
                <div class="card-footer bg-transparent border-0 pt-0">
                  <small class="text-primary">Read More â†’</small>
                </div>
              </a>        
            </div>
          {% endfor %}
        </div>
      </div>

      <!-- Sidebar -->
      <div class="col-lg-4 mt-4 mt-lg-0">
        <!-- Search Box -->
        <div class="card shadow-sm border-0 mb-4">
          <div class="card-body">
            <h5 class="card-title mb-3">Search</h5>
            <input type="text" id="blog-search" class="form-control" placeholder="Search posts...">
          </div>
        </div>

        <!-- Newest Posts -->
        <div class="card shadow-sm border-0 mb-4">
          <div class="card-body">
            <h5 class="card-title mb-3">Newest Posts</h5>
            <ul class="list-unstyled">
              {% for post in collections.post | reverse | limit(5) %}
              <li class="mb-2">
                <a href="{{ post.url }}" class="text-decoration-none">
                  <small class="text-muted d-block">{{ post.date | fmtDate }}</small>
                  {{ post.data.title }}
                </a>
              </li>
              {% endfor %}
            </ul>
          </div>
        </div>

        <!-- Popular Tags -->
        <div class="card shadow-sm border-0 mb-4">
          <div class="card-body">
            <h5 class="card-title mb-3">Popular Tags</h5>
            <div>
              {% set allTags = [] %}
              {% for post in collections.post %}
                {% for tag in post.data.tags %}
                  {% if tag != "post" %}
                    {% set allTags = (allTags.push(tag), allTags) %}
                  {% endif %}
                {% endfor %}
              {% endfor %}
              {% set uniqueTags = allTags | unique | sort %}
              {% for tag in uniqueTags %}
                <a href="#" class="badge bg-light text-dark border me-1 mb-2 text-decoration-none" data-tag="{{ tag }}">#{{ tag }}</a>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Track selected tags
  let selectedTags = new Set();

  // Simple search functionality
  document.getElementById('blog-search')?.addEventListener('input', function(e) {
    const searchTerm = e.target.value.toLowerCase();

    // Clear tag selections when user types in search
    if (searchTerm && !searchTerm.startsWith('#')) {
      selectedTags.clear();
      document.querySelectorAll('[data-tag]').forEach(t => {
        t.classList.remove('bg-primary', 'text-white');
        t.classList.add('bg-light', 'text-dark');
      });
    }

    filterPosts();
  });

  // Multi-select tag filtering with toggle
  document.querySelectorAll('[data-tag]').forEach(tagBadge => {
    tagBadge.addEventListener('click', function(e) {
      e.preventDefault();
      const tag = this.dataset.tag.toLowerCase();

      // Toggle tag selection
      if (selectedTags.has(tag)) {
        selectedTags.delete(tag);
        this.classList.remove('bg-primary', 'text-white');
        this.classList.add('bg-light', 'text-dark');
      } else {
        selectedTags.add(tag);
        this.classList.remove('bg-light', 'text-dark');
        this.classList.add('bg-primary', 'text-white');
      }

      // Clear search box when tags are selected
      const searchBox = document.getElementById('blog-search');
      if (searchBox && selectedTags.size > 0) {
        searchBox.value = '';
      }

      filterPosts();
    });
  });

  // Unified filter function
  function filterPosts() {
    const searchTerm = document.getElementById('blog-search')?.value.toLowerCase() || '';
    const cards = document.querySelectorAll('.col-lg-8 .col');

    cards.forEach(card => {
      const title = card.querySelector('.card-title')?.textContent.toLowerCase() || '';
      // Get all .card-text elements (includes date and summary)
      const allCardText = Array.from(card.querySelectorAll('.card-text'))
        .map(el => el.textContent.toLowerCase())
        .join(' ');
      const cardTags = Array.from(card.querySelectorAll('.badge'))
        .map(b => b.textContent.toLowerCase().replace('#', ''));

      let show = true;

      // Apply search filter
      if (searchTerm) {
        const tags = cardTags.join(' ');
        show = title.includes(searchTerm) || allCardText.includes(searchTerm) || tags.includes(searchTerm);
      }

      // Apply tag filter (must match ALL selected tags)
      if (show && selectedTags.size > 0) {
        show = Array.from(selectedTags).every(tag => cardTags.includes(tag));
      }

      card.style.display = show ? '' : 'none';
    });
  }
</script>